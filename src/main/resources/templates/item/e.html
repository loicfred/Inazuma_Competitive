<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="MASTERCONTENT">

<head layout:fragment="head">
  <meta property="og:title" th:content="${e.getName()} + ' | Inazuma Competitive'" />
  <meta name="twitter:title" th:content="${e.getName()} + ' | Inazuma Competitive'">
  <meta property="og:description" th:content="${e.getDescription()}" />
  <meta name="twitter:description" th:content="${e.getDescription()}">
  <meta property="og:image" th:content="${'/api/img/event/' + e.getId() + '/Logo1.png'}" />
  <meta name="twitter:image" th:content="${'/api/img/event/' + e.getId() + '/Logo1.png'}" />
  <title th:text="${e.getName()} + ' | Inazuma Competitive'"></title>
  <link id="tabIcon" rel="icon" th:href="${'/api/img/event/' + e.getId() + '/Logo1.png'}" type="image/png">
  <style>
    main {
      background: linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.75)), url("/img/bg.jpg");
    }

    .tab-panel {
      padding-left: 20px; padding-right: 20px; height: auto;
    }
    .tab-panel::-webkit-scrollbar {
      width: 4px;
      background: rgba(0, 0, 0, 0);
    }
    .tab-panel::-webkit-scrollbar-thumb {
      background: rgba(128, 128, 128, 0.5);
      border-radius: 10px;
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .tab-panel::-webkit-scrollbar-thumb:hover {
      background: rgba(128, 128, 128, 0.8);
    }
    a {
      text-decoration: dodgerblue underline;
      color: dodgerblue;
    }

    .mainwindow {
      width: 75%;
    }
    .maintitle {
      font-size: 24px;
    }
    .columnmobile {
      display: flex;
      padding-top: 5px;
      padding-bottom: 5px;
    }
    .YoutubeVideo {
      width: 380px; height: 220px; overflow: hidden;
    }
    .section {
      width: 100%; border-top: 1px solid #FFFFFF55; margin: 10px;
    }
    #leftside {
      padding: 5px;
    }
    #rightside {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: auto;
      margin-bottom: auto;
      padding-bottom: 5px;
    }
    #overview {
      width: 300px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #FFFFFF55;
      border: 1px solid white;
    }
    .banner {
      width: auto; height: 100px;
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;
    }

    @media screen and (max-width: 768px) {
      .mainwindow {
        border: none;
        width: 100%;
      }
      .maintitle {
        font-size: 18px;
      }
      .columnmobile {
        flex-direction: column;
      }
      #leftside {
        padding: 0;
      }
      .YoutubeVideo {
        width: 350px; height: 210px;
      }
      #rightside, .section {
        margin: 5px 0 0;
      }
      .alignmobile {
        align-items: center;
      }
      .banner {
        width: auto; height: 50px;
      }
    }
  </style>
  <style th:text="'header, footer, .dropdown, #loading { background-color: ' + ${utils.darkenColor(e.getColorcode(), 0.25)} + '}'"></style>
  <style th:text="'#overview { background-color: ' + ${utils.darkenColor(e.getColorcode(), 0.5)} + '}'"></style>
</head>

<main layout:fragment="content">
  <!--<div th:if="${img.contains('Banner')}" class="banner" th:style="'background-image: url(' + ${'/api/img/event/' + e.getId() + '/Banner.png'} +');'"></div>-->
  <div class="mainwindow" th:style="'min-height: 100vh; display: flex; flex-direction: column; justify-self: center; opacity: 0.9; background-color: ' + ${utils.darkenColor(e.getColorcode(), 0.2)} + ';'">
    <div class="tabs">
      <button class="tab-button" th:onclick="|showTab(0)|">Overview</button>
      <button class="tab-button" th:onclick="|showTab(1)|">Gallery</button>
      <button class="tab-button" th:onclick="|showTab(2)|">Rediffusion</button>
    </div>

    <div class="tab-panels">
      <div class="tab-panel">
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
          <div class="columnmobile">
            <div id="leftside">
              <div style="display: flex; padding-top: 10px; padding-bottom: 10px;">
                <img th:src="'/img/games/' + ${e.getGame().getCode()}  + '.png'" style="width: 48px; height: 48px; margin-right: 10px;">
                <h1 class="IEBOLD mb-0 maintitle" th:text="${e.getName()}"></h1>
              </div>
              <p class="IEStrike" th:utext="${e.getDescription()}"></p>
              <div th:if="${e.getTeaser() != null}" style="display: flex; flex-direction: column">
                <h4 class="IEBOLD mb-0">Teaser</h4>
                <div style="display: flex; justify-content: center;">
                  <iframe aria-label="video iframe" title="url" class="YoutubeVideo" th:src="'https://www.youtube.com/embed/' + ${e.getTeaser()}" frameborder="0" scrolling="no" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;" allowfullscreen=""></iframe>
                </div>
              </div>
              <div th:if="${e.getTrailer() != null}" style="display: flex; flex-direction: column">
                <h4 class="IEBOLD mb-0">Trailer</h4>
                <div style="display: flex; justify-content: center;">
                  <iframe aria-label="video iframe" title="url" class="YoutubeVideo" th:src="'https://www.youtube.com/embed/' + ${e.getTrailer()}" frameborder="0" scrolling="no" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;" allowfullscreen=""></iframe>
                </div>
              </div>
              <div th:if="${e.getIntro() != null}" style="display: flex; flex-direction: column">
                <h4 class="IEBOLD mb-0">Intro</h4>
                <div style="display: flex; justify-content: center;">
                  <iframe aria-label="video iframe" title="url" class="YoutubeVideo" th:src="'https://www.youtube.com/embed/' + ${e.getIntro()}" frameborder="0" scrolling="no" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;" allowfullscreen=""></iframe>
                </div>
              </div>
              <p class="IEStrike mb-0" th:if="${e.getDescription2() != null && e.getDescription2().length() > 5}" style="margin-top: 25px;" th:utext="${e.getDescription2()}"></p>
            </div>
            <div id="rightside">
              <div id="overview">
                <h4 class="IEBOLD mb-0" style="text-align: center;" th:text="${e.getName()}"></h4>
                <img style="width: 100%; background-color: #00000000" th:src="${'/api/img/event/' + e.getId() + '/Logo1.png'}" alt="">
                <div style="width: 100%; background-color: #00000055;">
                  <div style="background-color: #00000022; display: flex; flex-direction: column; align-items: center;">
                    <h5 class="IEStrike mb-0">Organiser(s)</h5>
                    <div th:each="each : ${e.getOrganisers()}" style="display: flex; align-items: center; margin-right: auto; padding-left: 5px">
                      <img style="width: 25px; height: 25px; margin-right: 5px; border-radius: 50%" th:src="${each.getUser().getEffectiveAvatarUrl()}">
                      <p class="IEStrike mb-0"><a th:href="'/p/' + ${each.getUserID()}" th:text="${each.getUser().getEffectiveName()}"></a><span th:text="${' (' + each.getRole() + ')'}"></span></p>
                    </div>
                  </div>
                  <div style="background-color: #00000022; display: flex; height: 30px; padding-left: 5px;">
                    <p class="IEStrike mb-0" style="width: 35%;">Start Date</p>
                    <p class="IEStrike mb-0" style="width: 65%; padding-left: 5px; background-color: #FFFFFF11;" th:text="${#dates.format(e.getStartedAtTimeEpochSecond() * 1000, 'dd MMM yyyy')}"></p>
                  </div>
                  <div style="background-color: #00000022; display: flex; height: 30px; padding-left: 5px;">
                    <p class="IEStrike mb-0" style="width: 35%;">End Date</p>
                    <p class="IEStrike mb-0" style="width: 65%; padding-left: 5px; background-color: #FFFFFF11;" th:text="${#dates.format(e.getCompletedAtTimeEpochSecond() * 1000, 'dd MMM yyyy')}"></p>
                  </div>
                  <div style="background-color: #00000022; display: flex; height: 30px; padding-left: 5px;">
                    <p class="IEStrike mb-0" style="width: 35%;">Winner</p>
                    <p class="IEStrike mb-0" style="width: 65%; padding-left: 5px; background-color: #FFFFFF11;" th:text="${e.getWinner()}"></p>
                  </div>
                  <div th:if="${e.getLink() != null}" style="background-color: #00000022; display: flex; justify-content: center; height: 30px; padding-left: 5px; width: 100%;">
                    <a class="IEStrike mb-0" th:href="${e.getLink()}">View the bracket</a>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="section" th:if="${e.getGroupsInfo() != null && e.getGroupsInfo().length() > 5}">
            <h4 class="IEBOLD mb-0" style="padding: 5px;">Matches</h4>
            <div class="columnmobile" style="gap: 50px; flex-wrap: wrap; justify-content: center;" th:utext="${e.getGroupsInfo()}"></div>
          </div>

          <div class="section">
            <h2 class="IEBOLD" style="padding: 5px;">Teams</h2>
            <div class="columnmobile alignmobile" style="gap: 50px; flex-wrap: wrap; justify-content: center;">
              <div th:each="team : ${e.getTeams()}" th:style="'display: flex; flex-direction: column; width: 300px; padding: 5px; border-radius: 5px; border: 2px solid gray; background-color: ' + ${e.getColorcode()} + '11;'">
                <h4 class="IEBOLD mb-0" style="align-self: center; font-size: 15px; border-bottom: 1px solid gray" th:text="${team.getPosition() == 1 ? '(1st) ' + team.getName() : (team.getPosition() == 2 ? '(2nd) ' + team.getName() : (team.getPosition() == 3 ? '(3rd) ' + team.getName() : team.getName()))}"></h4>
                <div style="padding: 5px; display: flex; flex-direction: column;">
                  <div th:each="player : ${team.getUsers()}" style="display: flex; align-items: center;">
                    <img style="width: 25px; height: 25px; margin-right: 5px; border-radius: 50%" th:src="${player.getEffectiveAvatarUrl()}">
                    <p class="IEStrike mb-0"><a th:href="${'/p/' + player.getId()}" th:text="${player.getEffectiveName()}"></a><span th:if="${player.getIdLong() == team.getUserID1()}" th:text="' (C)'"></span></p>
                  </div>
                  <p class="IEStrike mb-0" th:each="player : ${team.getUnknown()}" th:text="${player}"></p>
                </div>
              </div>
              <img th:if="${img.contains('Teams')}" style="width: 90%; background-color: #00000000" th:src="${'/api/img/event/' + e.getId() + '/Teams.png'}" alt="">
            </div>
          </div>

          <div class="section" th:if="${e.getTrivia() != null && e.getTrivia().length() > 5}">
            <h4 class="IEBOLD mb-0"  style="padding: 5px;">Trivia</h4>
            <ul class="IEStrike mb-0" th:utext="${e.getTrivia()}" style="display: flex; flex-direction: column; column-gap: 50px; flex-wrap: wrap; margin-left: 25px;"></ul>
          </div>
        </div>
      </div>

      <div class="tab-panel">
        <div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: center; padding: 10px; gap: 50px;">
          <div th:each="each : ${img}" style="display: flex; align-items: center; flex-direction: column; margin-bottom: 5px;">
            <img style="width: 300px; background-color: #00000000" th:src="${'/api/img/event/' + e.getId() + '/' + each + '.png'}" alt="">
            <p class="IEStrike mb-0" th:text="${each}"></p>
          </div>
        </div>
      </div>

      <div class="tab-panel">
        <div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: center; padding: 10px; gap: 50px;">
          <div th:each="rediff : ${e.getEventRediffs()}" style="display: flex; align-items: center; flex-direction: column; margin-bottom: 5px;">
            <iframe aria-label="video iframe" title="url" class="YoutubeVideo" th:src="'https://www.youtube.com/embed/' + ${rediff.getLink().split('v=')[1]}" frameborder="0" scrolling="no" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;" allowfullscreen=""></iframe>
            <p class="IEStrike mb-0" th:text="${rediff.getName()}"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

</html>
<script src="/tabswitcher.js"></script>